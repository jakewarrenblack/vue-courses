(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1783169c"],{2398:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",{staticClass:"mx-auto",attrs:{"fill-height":"",fluid:""}},[t("v-row",{staticClass:"w-100 d-flex justify-center"},[t("v-row",{staticClass:"mb-8 w-100 d-flex justify-center"},[t("h2",{},[e._v("Add Lecturer")])]),t("v-divider"),t("v-col",[t("v-card",{staticClass:"p-4",attrs:{elevation:"7"}},[t("v-form",{on:{submit:function(r){return r.preventDefault(),e.addLecturer(e.form)}}},[t("div",{staticClass:"input-contain"},[t("v-text-field",{attrs:{label:"Name",type:"text",name:"name","error-messages":e.nameErrors},on:{input:function(r){return e.$v.form.name.$touch()},blur:function(r){return e.$v.form.name.$touch()}},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e.errors.name?t("v-alert",{attrs:{dismissible:"",type:"error"}},[e._v(e._s(e.errors.name))]):e._e(),t("br"),t("div",{staticClass:"input-contain"},[t("v-text-field",{attrs:{label:"Address",type:"text",name:"address","error-messages":e.addressErrors},on:{input:function(r){return e.$v.form.address.$touch()},blur:function(r){return e.$v.form.address.$touch()}},model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}})],1),e.errors.address?t("v-alert",{attrs:{dismissible:"",type:"error"}},[e._v(e._s(e.errors.address))]):e._e(),t("br"),t("div",{staticClass:"input-contain"},[t("v-text-field",{attrs:{label:"Phone",type:"text",name:"phone","error-messages":e.phoneErrors},on:{input:function(r){return e.$v.form.phone.$touch()},blur:function(r){return e.$v.form.phone.$touch()}},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),e.errors.phone?t("v-alert",{attrs:{dismissible:"",type:"error"}},[e._v(e._s(e.errors.phone))]):e._e(),t("br"),t("div",{staticClass:"input-contain"},[t("v-text-field",{attrs:{label:"Email",type:"email",name:"email","error-messages":e.emailErrors},on:{input:function(r){return e.$v.form.email.$touch()},blur:function(r){return e.$v.form.email.$touch()}},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e.errors.email?t("v-alert",{attrs:{dismissible:"",type:"error"}},[e._v(e._s(e.errors.email))]):e._e(),t("br"),t("v-btn",{attrs:{type:"submit",color:"secondary"}},[e._v("Submit")]),t("v-btn",{staticClass:"ml-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Reset Form ")])],1)],1)],1)],1)],1)},i=[],n=(t("b0c0"),t("bc3a")),s=t.n(n),o=t("1dce"),u=t("b5ae"),d={name:"coursesAdd",components:{},mixins:[o["validationMixin"]],data:function(){return{form:{name:"",address:"",phone:"",email:""},errors:[]}},validations:{form:{name:{required:u["required"],maxLength:Object(u["maxLength"])(50)},address:{required:u["required"],maxLength:Object(u["maxLength"])(100)},phone:{required:u["required"],numeric:u["numeric"],maxLength:Object(u["maxLength"])(20)},email:{required:u["required"],email:u["email"],maxLength:Object(u["maxLength"])(50)}}},computed:{nameErrors:function(){var e=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&e.push("Name is required"),!this.$v.form.name.maxLength&&e.push("Name may be no more than 50 characters"),e):e},addressErrors:function(){var e=[];return this.$v.form.address.$dirty?(!this.$v.form.address.required&&e.push("Address is required"),!this.$v.form.address.maxLength&&e.push("Name may be no more than 100 characters"),e):e},phoneErrors:function(){var e=[];return this.$v.form.phone.$dirty?(!this.$v.form.phone.required&&e.push("Phone is required"),!this.$v.form.phone.numeric&&e.push("Phone must be a numeric"),!this.$v.form.phone.maxLength&&e.push("Phone must be no more than 20 digits long"),e):e},emailErrors:function(){var e=[];return this.$v.form.email.$dirty?(!this.$v.form.email.required&&e.push("Email is required"),!this.$v.form.email.email&&e.push("Email must be a valid email address"),!this.$v.form.email.maxLength&&e.push("Phone must be no more than 50 characters"),e):e}},mounted:function(){console.log(localStorage.getItem("token"))},methods:{reset:function(){this.$refs.form.reset(),this.$v.$reset()},addLecturer:function(e){var r=this,t=localStorage.getItem("token");t||(this.$router.push({name:"home"}),this.$store.dispatch("toggleSnackbar",{text:"Login to add lecturers",timeout:6e3})),this.$v.$touch(),this.$v.$invalid||s.a.post("https://college-api-mo.herokuapp.com/api/lecturers",{name:e.name,address:e.address,phone:e.phone,email:e.email},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(){r.$router.push({name:"lecturers_index"}),r.$store.dispatch("toggleSnackbar",{text:"Lecturer added successfully!",timeout:6e3})})).catch((function(e){console.log(e),r.$store.dispatch("toggleSnackbar",{text:"Something went wrong",timeout:6e3}),r.errors=e.response.data.errors}))}}},c=d,m=(t("9653"),t("2877")),l=t("6544"),h=t.n(l),f=t("0798"),v=t("8336"),p=t("b0af"),b=t("62ad"),$=t("a523"),g=t("ce7e"),x=t("4bd4"),_=t("0fd9"),w=t("8654"),y=Object(m["a"])(c,a,i,!1,null,"731d7cfc",null);r["default"]=y.exports;h()(y,{VAlert:f["a"],VBtn:v["a"],VCard:p["a"],VCol:b["a"],VContainer:$["a"],VDivider:g["a"],VForm:x["a"],VRow:_["a"],VTextField:w["a"]})},"4bd4":function(e,r,t){"use strict";var a=t("5530"),i=(t("caad"),t("2532"),t("07ac"),t("4de4"),t("d3b7"),t("159b"),t("7db0"),t("58df")),n=t("7e2b"),s=t("3206");r["a"]=Object(i["a"])(n["a"],Object(s["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var r=Object.values(e).includes(!0);this.$emit("input",!r)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var r=this,t=function(e){return e.$watch("hasError",(function(t){r.$set(r.errorBag,e._uid,t)}),{immediate:!0})},a={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(r.errorBag.hasOwnProperty(e._uid)||(a.valid=t(e)))})):a.valid=t(e),a},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var r=this.inputs.find((function(r){return r._uid===e._uid}));if(r){var t=this.watchers.find((function(e){return e._uid===r._uid}));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==r._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==r._uid})),this.$delete(this.errorBag,r._uid)}}},render:function(e){var r=this;return e("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return r.$emit("submit",e)}}},this.$slots.default)}})},9653:function(e,r,t){"use strict";t("bed4")},bed4:function(e,r,t){}}]);
//# sourceMappingURL=chunk-1783169c.1353e8b5.js.map