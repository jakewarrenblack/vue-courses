{"version":3,"sources":["webpack:///./src/pages/enrolments/Edit.vue?9d76","webpack:///src/pages/enrolments/Edit.vue","webpack:///./src/pages/enrolments/Edit.vue?b23e","webpack:///./src/pages/enrolments/Edit.vue?78d1","webpack:///./src/pages/enrolments/Edit.vue?84e6"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","on","$event","preventDefault","editEnrolment","form","select","items","statusErrors","$v","status","$touch","model","value","callback","$$v","$set","expression","errors","_s","_e","courses","course_idErrors","course_id","lecturers","lecturer_idErrors","lecturer_id","scopedSlots","_u","key","fn","_g","_b","dateErrors","date","date_menu","activePicker","save","time","timeErrors","menu2","$refs","menu","reset","refillValues","staticRenderFns","name","components","mixins","data","modal2","enrolment","validations","required","integer","created","document","title","computed","$dirty","push","mounted","console","log","localStorage","getItem","getData","getCourses","getLecturers","methods","$reset","token","$router","$store","dispatch","text","timeout","component","VAlert","VAutocomplete","VBtn","VCard","VCol","VContainer","VDatePicker","VDivider","VForm","VMenu","VRow","VTextField","VTimePicker"],"mappings":"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","file":"js/chunk-a9d810a6.da6d60bd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-row',{staticClass:\"w-100 d-flex justify-center\"},[_c('v-row',{staticClass:\"mb-8 w-100 d-flex justify-center\"},[_c('h2',{},[_vm._v(\"Edit Enrolment\")])]),_c('v-divider'),_c('v-col',[_c('v-card',{staticClass:\"p-4\",attrs:{\"elevation\":\"7\"}},[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editEnrolment(_vm.form)}}},[_c('div',{staticClass:\"input-contain\"},[_c('v-autocomplete',{attrs:{\"hint\":(\"\" + (_vm.select.state)),\"persistent-hint\":\"\",\"single-line\":\"\",\"item-text\":\"state\",\"item-value\":\"value\",\"label\":\"Select\",\"items\":_vm.items,\"name\":\"status\",\"id\":\"status\",\"error-messages\":_vm.statusErrors},on:{\"input\":function($event){return _vm.$v.form.status.$touch()},\"blur\":function($event){return _vm.$v.form.status.$touch()}},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),(_vm.errors.status)?_c('v-alert',{attrs:{\"dismissible\":\"\",\"type\":\"error\"}},[_vm._v(_vm._s(_vm.errors.status))]):_vm._e(),_c('br'),_c('div',{staticClass:\"input-contain\"},[_c('v-autocomplete',{attrs:{\"items\":_vm.courses,\"label\":\"Course\",\"single-line\":\"\",\"item-text\":\"title\",\"item-value\":\"id\",\"error-messages\":_vm.course_idErrors},on:{\"input\":function($event){return _vm.$v.form.course_id.$touch()},\"blur\":function($event){return _vm.$v.form.course_id.$touch()}},model:{value:(_vm.form.course_id),callback:function ($$v) {_vm.$set(_vm.form, \"course_id\", $$v)},expression:\"form.course_id\"}})],1),(_vm.errors.course_id)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(_vm._s(_vm.errors.course_id))]):_vm._e(),_c('br'),_c('div',{staticClass:\"input-contain\"},[_c('v-autocomplete',{attrs:{\"items\":_vm.lecturers,\"label\":\"Lecturer\",\"single-line\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"error-messages\":_vm.lecturer_idErrors},on:{\"input\":function($event){return _vm.$v.form.lecturer_id.$touch()},\"blur\":function($event){return _vm.$v.form.lecturer_id.$touch()}},model:{value:(_vm.form.lecturer_id),callback:function ($$v) {_vm.$set(_vm.form, \"lecturer_id\", $$v)},expression:\"form.lecturer_id\"}})],1),(_vm.errors.lecturer_id)?_c('v-alert',{attrs:{\"dismissible\":\"\",\"type\":\"error\"}},[_vm._v(_vm._s(_vm.errors.lecturer_id))]):_vm._e(),_c('br'),_c('div',{staticClass:\"input-contain\"},[_c('div',{staticClass:\"mb-6\"}),_c('v-menu',{ref:\"menu2\",attrs:{\"close-on-content-click\":true,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Date\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"error-messages\":_vm.dateErrors},on:{\"input\":function($event){return _vm.$v.date.$touch()},\"blur\":function($event){return _vm.$v.date.$touch()}},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.date_menu),callback:function ($$v) {_vm.date_menu=$$v},expression:\"date_menu\"}},[_c('v-date-picker',{attrs:{\"active-picker\":_vm.activePicker,\"min\":\"1950-01-01\"},on:{\"update:activePicker\":function($event){_vm.activePicker=$event},\"update:active-picker\":function($event){_vm.activePicker=$event},\"change\":_vm.save},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)],1),(_vm.errors.date)?_c('v-alert',{attrs:{\"dismissible\":\"\",\"type\":\"error\"}},[_vm._v(_vm._s(_vm.errors.date))]):_vm._e(),_c('br'),_c('div',{staticClass:\"input-contain\"},[_c('div',{staticClass:\"mb-6\"},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"return-value\":_vm.time,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.time=$event},\"update:return-value\":function($event){_vm.time=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Picker in menu\",\"prepend-icon\":\"mdi-clock-time-four-outline\",\"readonly\":\"\",\"error-messages\":_vm.timeErrors},on:{\"input\":function($event){return _vm.$v.time.$touch()},\"blur\":function($event){return _vm.$v.time.$touch()}},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu2),callback:function ($$v) {_vm.menu2=$$v},expression:\"menu2\"}},[(_vm.menu2)?_c('v-time-picker',{attrs:{\"full-width\":\"\"},on:{\"click:minute\":function($event){return _vm.$refs.menu.save(_vm.time)}},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}):_vm._e()],1)],1)]),(_vm.errors.time)?_c('v-alert',{attrs:{\"dismissible\":\"\",\"type\":\"error\"}},[_vm._v(_vm._s(_vm.errors.time))]):_vm._e(),_c('br'),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"secondary\"}},[_vm._v(\"Submit\")]),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"error\"},on:{\"click\":_vm.reset}},[_vm._v(\" Reset Form \")]),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"\"},on:{\"click\":function($event){return _vm.refillValues()}}},[_vm._v(\" Refill Values \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fill-height fluid>\r\n    <v-row class=\"w-100 d-flex justify-center\">\r\n      <v-row class=\"mb-8 w-100 d-flex justify-center\">\r\n        <h2 class=\"\">Edit Enrolment</h2>\r\n      </v-row>\r\n      <v-divider />\r\n      <!-- Prevent default, which is to refresh the page -->\r\n\r\n      <v-col>\r\n        <v-card elevation=\"7\" class=\"p-4\">\r\n          <v-form @submit.prevent=\"editEnrolment(form)\" ref=\"form\">\r\n            <div class=\"input-contain\">\r\n              <v-autocomplete\r\n                v-model=\"form.status\"\r\n                :hint=\"`${select.state}`\"\r\n                persistent-hint\r\n                single-line\r\n                item-text=\"state\"\r\n                item-value=\"value\"\r\n                label=\"Select\"\r\n                :items=\"items\"\r\n                name=\"status\"\r\n                id=\"status\"\r\n                :error-messages=\"statusErrors\"\r\n                @input=\"$v.form.status.$touch()\"\r\n                @blur=\"$v.form.status.$touch()\"\r\n              >\r\n              </v-autocomplete>\r\n            </div>\r\n            <v-alert v-if=\"errors.status\" dismissible type=\"error\">{{\r\n              errors.status\r\n            }}</v-alert>\r\n            <br />\r\n            <div class=\"input-contain\">\r\n              <v-autocomplete\r\n                v-model=\"form.course_id\"\r\n                :items=\"courses\"\r\n                label=\"Course\"\r\n                single-line\r\n                item-text=\"title\"\r\n                item-value=\"id\"\r\n                :error-messages=\"course_idErrors\"\r\n                @input=\"$v.form.course_id.$touch()\"\r\n                @blur=\"$v.form.course_id.$touch()\"\r\n              >\r\n              </v-autocomplete>\r\n            </div>\r\n            <!-- This error will be shown if the lecturer is already enrolled on a course -->\r\n            <v-alert v-if=\"errors.course_id\" type=\"error\">{{\r\n              errors.course_id\r\n            }}</v-alert>\r\n            <br />\r\n            <div class=\"input-contain\">\r\n              <v-autocomplete\r\n                v-model=\"form.lecturer_id\"\r\n                :items=\"lecturers\"\r\n                label=\"Lecturer\"\r\n                single-line\r\n                item-text=\"name\"\r\n                item-value=\"id\"\r\n                :error-messages=\"lecturer_idErrors\"\r\n                @input=\"$v.form.lecturer_id.$touch()\"\r\n                @blur=\"$v.form.lecturer_id.$touch()\"\r\n              >\r\n              </v-autocomplete>\r\n            </div>\r\n            <v-alert v-if=\"errors.lecturer_id\" dismissible type=\"error\">{{\r\n              errors.lecturer_id\r\n            }}</v-alert>\r\n            <br />\r\n            <div class=\"input-contain\">\r\n              <div class=\"mb-6\"></div>\r\n              <v-menu\r\n                ref=\"menu2\"\r\n                v-model=\"date_menu\"\r\n                :close-on-content-click=\"true\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                min-width=\"auto\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-text-field\r\n                    v-model=\"date\"\r\n                    label=\"Date\"\r\n                    prepend-icon=\"mdi-calendar\"\r\n                    readonly\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    :error-messages=\"dateErrors\"\r\n                    @input=\"$v.date.$touch()\"\r\n                    @blur=\"$v.date.$touch()\"\r\n                  ></v-text-field>\r\n                </template>\r\n                <v-date-picker\r\n                  v-model=\"date\"\r\n                  :active-picker.sync=\"activePicker\"\r\n                  min=\"1950-01-01\"\r\n                  @change=\"save\"\r\n                ></v-date-picker>\r\n              </v-menu>\r\n            </div>\r\n            <v-alert v-if=\"errors.date\" dismissible type=\"error\">{{\r\n              errors.date\r\n            }}</v-alert>\r\n            <br />\r\n            <div class=\"input-contain\">\r\n              <div class=\"mb-6\">\r\n                <v-menu\r\n                  ref=\"menu\"\r\n                  v-model=\"menu2\"\r\n                  :close-on-content-click=\"false\"\r\n                  :nudge-right=\"40\"\r\n                  :return-value.sync=\"time\"\r\n                  transition=\"scale-transition\"\r\n                  offset-y\r\n                  max-width=\"290px\"\r\n                  min-width=\"290px\"\r\n                >\r\n                  <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-text-field\r\n                      v-model=\"time\"\r\n                      label=\"Picker in menu\"\r\n                      prepend-icon=\"mdi-clock-time-four-outline\"\r\n                      readonly\r\n                      v-bind=\"attrs\"\r\n                      v-on=\"on\"\r\n                      :error-messages=\"timeErrors\"\r\n                      @input=\"$v.time.$touch()\"\r\n                      @blur=\"$v.time.$touch()\"\r\n                    ></v-text-field>\r\n                  </template>\r\n                  <v-time-picker\r\n                    v-if=\"menu2\"\r\n                    v-model=\"time\"\r\n                    full-width\r\n                    @click:minute=\"$refs.menu.save(time)\"\r\n                  ></v-time-picker>\r\n                </v-menu>\r\n              </div>\r\n            </div>\r\n            <v-alert v-if=\"errors.time\" dismissible type=\"error\">{{\r\n              errors.time\r\n            }}</v-alert>\r\n\r\n            <br />\r\n            <v-btn type=\"submit\" color=\"secondary\">Submit</v-btn>\r\n            <v-btn color=\"error\" class=\"ml-4\" @click=\"reset\">\r\n              Reset Form\r\n            </v-btn>\r\n            <v-btn color=\"\" class=\"ml-4\" @click=\"refillValues()\">\r\n              Refill Values\r\n            </v-btn>\r\n          </v-form>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport { validationMixin } from \"vuelidate\";\r\nimport { required, integer } from \"vuelidate/lib/validators\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"coursesAdd\",\r\n  components: {},\r\n  mixins: [validationMixin],\r\n  data() {\r\n    return {\r\n      date_menu: false,\r\n      date: null,\r\n      time: null,\r\n      menu2: false,\r\n      modal2: false,\r\n      form: {\r\n        status: \"\",\r\n        course_id: \"\",\r\n        lecturer_id: \"\",\r\n      },\r\n      // Dropdown models the items, default is interested\r\n      select: { state: \"interested\" },\r\n      items: [\r\n        { state: \"interested\", value: \"interested\" },\r\n        { state: \"assigned\", value: \"assigned\" },\r\n        { state: \"career break\", value: \"career_break\" },\r\n        { state: \"associate\", value: \"associate\" },\r\n      ],\r\n      // Init to empty arrays, then fill them on mount\r\n      courses: [],\r\n      lecturers: [],\r\n      enrolment: {},\r\n      errors: [],\r\n    };\r\n  },\r\n  validations: {\r\n    form: {\r\n      status: {\r\n        required,\r\n      },\r\n      course_id: {\r\n        required,\r\n        integer,\r\n      },\r\n      lecturer_id: {\r\n        required,\r\n        integer,\r\n      },\r\n    },\r\n    date: {\r\n      required,\r\n    },\r\n    time: {\r\n      required,\r\n    },\r\n  },\r\n  created() {\r\n    document.title = \"Edit Enrolment\";\r\n  },\r\n  computed: {\r\n    ...mapState([\"loggedIn\"]),\r\n    statusErrors() {\r\n      const errors = [];\r\n      if (!this.$v.form.status.$dirty) return errors;\r\n      !this.$v.form.status.required && errors.push(\"Status is required\");\r\n      return errors;\r\n    },\r\n    course_idErrors() {\r\n      const errors = [];\r\n      if (!this.$v.form.course_id.$dirty) return errors;\r\n      !this.$v.form.course_id.required && errors.push(\"Course ID is required\");\r\n      !this.$v.form.course_id.integer &&\r\n        errors.push(\"Course ID must be an integer\");\r\n      return errors;\r\n    },\r\n    lecturer_idErrors() {\r\n      const errors = [];\r\n      if (!this.$v.form.lecturer_id.$dirty) return errors;\r\n      !this.$v.form.lecturer_id.required &&\r\n        errors.push(\"Lecturer ID is required\");\r\n      !this.$v.form.lecturer_id.integer &&\r\n        errors.push(\"Lecturer ID must be an integer\");\r\n      return errors;\r\n    },\r\n    dateErrors() {\r\n      const errors = [];\r\n      if (!this.$v.date.$dirty) return errors;\r\n      !this.$v.date.required && errors.push(\"Date is required\");\r\n      // !this.$v.date.date && errors.push(\"Date must be a valid date\");\r\n      return errors;\r\n    },\r\n    timeErrors() {\r\n      const errors = [];\r\n      if (!this.$v.time.$dirty) return errors;\r\n      !this.$v.time.required && errors.push(\"Time is required\");\r\n      return errors;\r\n    },\r\n  },\r\n  mounted() {\r\n    //this.getData();\\\r\n    console.log(localStorage.getItem(\"token\"));\r\n    this.getData();\r\n    this.getCourses();\r\n    this.getLecturers();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.$refs.form.reset();\r\n      this.$v.$reset();\r\n    },\r\n    refillValues() {\r\n      this.form.status = this.enrolment.status;\r\n      this.form.course_id = this.enrolment.course_id;\r\n      this.form.lecturer_id = this.enrolment.lecturer_id;\r\n      this.date = this.enrolment.date;\r\n      this.time = this.enrolment.time;\r\n    },\r\n    async editEnrolment(form) {\r\n      let token = localStorage.getItem(\"token\");\r\n\r\n      this.$v.$touch();\r\n\r\n      if (!this.$v.$invalid || !this.loggedIn) {\r\n        axios\r\n          .put(\r\n            `https://college-api-mo.herokuapp.com/api/enrolments/${this.$route.params.id}`,\r\n            {\r\n              status: form.status,\r\n              course_id: form.course_id,\r\n              lecturer_id: form.lecturer_id,\r\n              date: this.date,\r\n              time: this.time,\r\n            },\r\n            {\r\n              headers: { Authorization: `Bearer ${token}` },\r\n            }\r\n          )\r\n\r\n          .then(() => {\r\n            this.$router.push({ name: \"enrolments_index\" });\r\n            this.$store.dispatch(\"toggleSnackbar\", {\r\n              text: \"Enrolment edited successfully!\",\r\n              timeout: 6000,\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            // console.log(form);\r\n            //this.$router.push({ name: \"enrolments_index\" });\r\n            this.$store.dispatch(\"toggleSnackbar\", {\r\n              text: \"Something went wrong\",\r\n              timeout: 6000,\r\n            });\r\n            this.errors = error.response.data.errors;\r\n          });\r\n      }\r\n    },\r\n    getCourses() {\r\n      let token = localStorage.getItem(\"token\");\r\n      axios\r\n        .get(`https://college-api-mo.herokuapp.com/api/courses`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n        .then((response) => {\r\n          this.courses = response.data.data;\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    getLecturers() {\r\n      let token = localStorage.getItem(\"token\");\r\n      axios\r\n        .get(`https://college-api-mo.herokuapp.com/api/lecturers`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n        .then((response) => {\r\n          console.log(\"lecturers:\");\r\n          console.log(response.data.data);\r\n          this.lecturers = response.data.data;\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    getData() {\r\n      let token = localStorage.getItem(\"token\");\r\n      // If the user tries to come to this page while not logged in, send them back to the homepage\r\n      if (!token) {\r\n        this.$router.push({ name: \"home\" });\r\n\r\n        this.$store.dispatch(\"toggleSnackbar\", {\r\n          text: \"Login to edit courses\",\r\n          timeout: 6000,\r\n        });\r\n      }\r\n      axios\r\n        .get(\r\n          `https://college-api-mo.herokuapp.com/api/enrolments/${this.$route.params.id}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          console.log(response);\r\n          var resp = response.data.data;\r\n          this.form.status = resp.status;\r\n          this.form.course_id = resp.course_id;\r\n          this.form.lecturer_id = resp.lecturer_id;\r\n          this.date = resp.date;\r\n          this.time = resp.time;\r\n\r\n          this.enrolment = response.data.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          //localStorage.removeItem(\"token\");\r\n          // this.$emit('invalid-token')\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.input-contain {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 1rem 0 1rem 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=db689ad8&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=db689ad8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db689ad8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VAlert,VAutocomplete,VBtn,VCard,VCol,VContainer,VDatePicker,VDivider,VForm,VMenu,VRow,VTextField,VTimePicker})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=db689ad8&scoped=true&lang=css&\""],"sourceRoot":""}